@{
    ViewData["Title"] = "Gallery";
}
 
@model GalleryModel

<div class="pxsnap_gallery">
    <div class="pxsnap_gallery_in">
        <div class="gallery_page">
            <div class="gallery_list gallery">
                <ul id="gallery"  class="pxsnap_masonry">
                    @foreach (var img in Model.Images)
                    {
                        <li class="pxsnap_masonry_in">
                            <div class="item">
                                <a href="~/img/gallery/@img">
                                    <img src="~/img/gallery/@img" alt="@img" />
                                </a>
                            </div>
                        </li>
                    }
                </ul>
            </div>

            <!-- PAGINATION -->
            <div class="pxsnap_pagination">
                <div class="pagination">
                    <ul id="pagination-list">
                        @if (Model.CurrentPage > 1)
                        {
                            <li class="prev">
                                <a asp-action="Gallery" asp-route-page="@(Model.CurrentPage - 1)" asp-route-search="@Model.SearchQuery">Prev</a>
                            </li>
                        }

                        @for (int i = 1; i <= Model.TotalPages; i++)
                        {
                            <li>
                                <a asp-action="Gallery" asp-route-page="@i" asp-route-search="@Model.SearchQuery" class="@(i == Model.CurrentPage ? "active" : "")">@i</a>
                            </li>
                        }

                        @if (Model.CurrentPage < Model.TotalPages)
                        {
                            <li class="next">
                                <a asp-action="Gallery" asp-route-page="@(Model.CurrentPage + 1)" asp-route-search="@Model.SearchQuery">Next</a>
                            </li>
                        }
                    </ul>

                </div>
            </div>
            <!-- /PAGINATION -->
        </div>
    </div>
</div>


@* <script>
    let searchBox = document.getElementById("searchBox");

    searchBox.addEventListener("input", function(event) {
      console.log(event.target.value); // مقدار تایپ‌شده رو توی کنسول نشون بده
    });
</script> *@